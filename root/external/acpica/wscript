#
# (C) 2012 KATO Takeshi
#

acpica_sources = (
    'source/components/dispatcher/dsargs.c',
    'source/components/dispatcher/dscontrol.c',
    'source/components/dispatcher/dsfield.c',
    'source/components/dispatcher/dsinit.c',
    'source/components/dispatcher/dsmethod.c',
    'source/components/dispatcher/dsmthdat.c',
    'source/components/dispatcher/dsobject.c',
    'source/components/dispatcher/dsopcode.c',
    'source/components/dispatcher/dsutils.c',
    'source/components/dispatcher/dswexec.c',
    'source/components/dispatcher/dswload.c',
    'source/components/dispatcher/dswload2.c',
    'source/components/dispatcher/dswscope.c',
    'source/components/dispatcher/dswstate.c',
    'source/components/events/evevent.c',
    'source/components/events/evglock.c',
    'source/components/events/evgpe.c',
    'source/components/events/evgpeblk.c',
    'source/components/events/evgpeinit.c',
    'source/components/events/evgpeutil.c',
    'source/components/events/evmisc.c',
    'source/components/events/evregion.c',
    'source/components/events/evrgnini.c',
    'source/components/events/evsci.c',
    'source/components/events/evxface.c',
    'source/components/events/evxfevnt.c',
    'source/components/events/evxfregn.c',
    'source/components/executer/exconfig.c',
    'source/components/executer/exconvrt.c',
    'source/components/executer/excreate.c',
    'source/components/executer/exdebug.c',
    'source/components/executer/exdump.c',
    'source/components/executer/exfield.c',
    'source/components/executer/exfldio.c',
    'source/components/executer/exmisc.c',
    'source/components/executer/exmutex.c',
    'source/components/executer/exnames.c',
    'source/components/executer/exoparg1.c',
    'source/components/executer/exoparg2.c',
    'source/components/executer/exoparg3.c',
    'source/components/executer/exoparg6.c',
    'source/components/executer/exprep.c',
    'source/components/executer/exregion.c',
    'source/components/executer/exresnte.c',
    'source/components/executer/exresolv.c',
    'source/components/executer/exresop.c',
    'source/components/executer/exsystem.c',
    'source/components/executer/exstore.c',
    'source/components/executer/exstoren.c',
    'source/components/executer/exstorob.c',
    'source/components/executer/exutils.c',
    'source/components/hardware/hwacpi.c',
    'source/components/hardware/hwgpe.c',
    'source/components/hardware/hwpci.c',
    'source/components/hardware/hwregs.c',
    'source/components/hardware/hwvalid.c',
    'source/components/hardware/hwxface.c',
    'source/components/namespace/nsaccess.c',
    'source/components/namespace/nsalloc.c',
    'source/components/namespace/nsdump.c',
    'source/components/namespace/nseval.c',
    'source/components/namespace/nsinit.c',
    'source/components/namespace/nsload.c',
    'source/components/namespace/nsnames.c',
    'source/components/namespace/nsobject.c',
    'source/components/namespace/nsparse.c',
    'source/components/namespace/nspredef.c',
    'source/components/namespace/nsrepair.c',
    'source/components/namespace/nsrepair2.c',
    'source/components/namespace/nssearch.c',
    'source/components/namespace/nsutils.c',
    'source/components/namespace/nswalk.c',
    'source/components/namespace/nsxfeval.c',
    'source/components/namespace/nsxfname.c',
    'source/components/namespace/nsxfobj.c',
    'source/components/parser/psargs.c',
    'source/components/parser/psloop.c',
    'source/components/parser/psopcode.c',
    'source/components/parser/psparse.c',
    'source/components/parser/psscope.c',
    'source/components/parser/pstree.c',
    'source/components/parser/psutils.c',
    'source/components/parser/pswalk.c',
    'source/components/parser/psxface.c',
    'source/components/tables/tbfadt.c',
    'source/components/tables/tbfind.c',
    'source/components/tables/tbinstal.c',
    'source/components/tables/tbutils.c',
    'source/components/tables/tbxface.c',
    'source/components/tables/tbxfload.c',
    'source/components/tables/tbxfroot.c',
    'source/components/utilities/utaddress.c',
    'source/components/utilities/utalloc.c',
    'source/components/utilities/utcopy.c',
    'source/components/utilities/utdebug.c',
    'source/components/utilities/utdecode.c',
    'source/components/utilities/utdelete.c',
    'source/components/utilities/uteval.c',
    'source/components/utilities/utexcep.c',
    'source/components/utilities/utglobal.c',
    'source/components/utilities/utids.c',
    'source/components/utilities/utinit.c',
    'source/components/utilities/utlock.c',
    'source/components/utilities/utmath.c',
    'source/components/utilities/utmisc.c',
    'source/components/utilities/utmutex.c',
    'source/components/utilities/utobject.c',
    'source/components/utilities/utosi.c',
    'source/components/utilities/utresrc.c',
    'source/components/utilities/utstate.c',
    'source/components/utilities/utxface.c',
    'source/components/utilities/utxferror.c',
    'source/components/utilities/utxfinit.c',
)

def configure(x):
	if x.env['CONFIG_ACPI']:
		x.env.append_value('INCLUDES',
		                   '#external/acpica/source/include')

def build(x):
	if x.env['CONFIG_ACPI']:
		x.objects(
		    target  = 'acpica_objs',
		    source  = acpica_sources,
		    use     = 'KERNEL',
		)



kern_sources = [
    'fileif.cc',
    'interrupt_control.cc',
    'log.cc',
    'log_access.cc',
    'string.cc',
]

kern_defines = []


setup_sources = [
    'log.cc',
    'string.cc',
]

setup_defines = []


def build(bld):
	kern_defines.extend(bld.env.common_defines)
	setup_defines.extend(bld.env.common_defines)

	bld.objects(
	    target   = 'kernel_objs',
	    source   = kern_sources,
	    defines  = kern_defines,
	    use      = 'KERNEL'
	)

	bld.objects(
	    target   = 'setup_objs',
	    source   = setup_sources,
	    defines  = setup_defines,
	    use      = 'SETUP'
	)

